[{"path":"https://d2gex.github.io/chartlbi/articles/running-prettylbi.html","id":"installing-chartlbi-package","dir":"Articles","previous_headings":"","what":"1. Installing chartlbi package","title":"running-chartlbi","text":"vigenette work chartlbi must installed exist R’s default libpath.","code":"# devtools::install_github(\"d2gex/chartlbi\")"},{"path":"https://d2gex.github.io/chartlbi/articles/running-prettylbi.html","id":"reading-the-sample-data","dir":"Articles","previous_headings":"","what":"2. Reading the sample data","title":"running-chartlbi","text":"data sample demersal species northern waters Iberian peninsula provided. Although data made , details pretty realistic. timeseries stretches 2004 2016. sample matrix showed .","code":"length_freq_matrix <- readRDS(\"data/demersal_fish_sample.rds\") head(length_freq_matrix) #>   MeanLength X2004 X2005 X2006 X2007 X2008 X2009 X2010 X2011 X2012 X2013 X2014 #> 1       10.5     1     0     1     0     1     0     1     1     1     1     1 #> 2       11.5     1     0     1     0     1     0     1     1     1     1     1 #> 3       12.5     1     0     1     0     1     0     1     1     1     1     1 #> 4       13.5     1     0     1     0    26     0     1     1     1     1     1 #> 5       14.5     1     0     1     0    26     0     1     1     1     1     1 #> 6       15.5     0     0     1     0    26     1     1     1     1     1     1 #>   X2015 X2016 #> 1     0     1 #> 2     0     1 #> 3     0     1 #> 4     0     1 #> 5     0     1 #> 6     0     1"},{"path":"https://d2gex.github.io/chartlbi/articles/running-prettylbi.html","id":"running-chartlbi","dir":"Articles","previous_headings":"","what":"3. Running chartlbi","title":"running-chartlbi","text":"Running chartlbi pretty simple. requires 4 parameters: Data results LBI algorithm context shaping visualisation results. may need change default values start . thresholds results evaluated. Default values provided, hardly ever need modify . order like indicator appear following bottom-top approach.","code":"# (1) Define biological inputs and size of class length params <- list(   binwidth = 1,   linf = 49.1,   l50 = 23 )   # (2) Define the context used to graph the results. Default values provided at instantiation time. However # you can modify them as suits you best as PlotContext$new returns a R6 object stack_plot_context <- chartlbi::PlotContext$new()  # (3) Define the threshold over which the LBI indicators will be evaluated. Default values provided at instantiation time. thresholds <- chartlbi::Thresholds  # (5) Define indicator order you want them to be shown as column_order <- list('Pmega', 'Lc_Lmat', 'L25_Lmat', 'Lmax5_Linf', 'Lmean_Lopt', 'Lmean_Lfem')  # (4) Run the LBI algorithm lbi <- chartlbi::LbiAlgo$new(length_freq_matrix, params) results <- lbi$run()  # (5) Plot the results lbi_plotter <- chartlbi::OutputPlotter$new(results, stack_plot_context, thresholds) graph <- lbi_plotter$build_plots(column_order) graph"},{"path":"https://d2gex.github.io/chartlbi/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Dan G. Author, maintainer.","code":""},{"path":"https://d2gex.github.io/chartlbi/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"G D (2025). chartlbi: Chart LBI Visualisation. R package version 1.0, https://d2gex.github.io/chartlbi/.","code":"@Manual{,   title = {chartlbi: Chart LBI Visualisation},   author = {Dan G},   year = {2025},   note = {R package version 1.0},   url = {https://d2gex.github.io/chartlbi/}, }"},{"path":"https://d2gex.github.io/chartlbi/index.html","id":"chartlbi","dir":"","previous_headings":"","what":"Chart LBI Visualisation","title":"Chart LBI Visualisation","text":"chartlbi project built around utilities Length Based Indicator (LBI) algorithm developed ICES provides alternative visualisation LBI indicators old traffic light system. consequence obsolete libraries original source code relying ReportRs now vanished. addition, neither JAVA Java dependencies ReporteRsjars longer required, therefore easing installation.","code":""},{"path":"https://d2gex.github.io/chartlbi/index.html","id":"lbi-visualisation","dir":"","previous_headings":"","what":"LBI Visualisation","title":"Chart LBI Visualisation","text":"primary goal wrapper make LBI visual outputs modern-like, visually-appealing hopefully intuitive, facilitating integration similar length-based methods applied part everyone’s data analysis. indicator now plotted using ggplot2 stacked one top another, every individual indicator value per timestep visually compared theoretical thresholds. value equal threshold plotted green red.","code":""},{"path":"https://d2gex.github.io/chartlbi/index.html","id":"awareness-of-old-bugs","dir":"","previous_headings":"","what":"Awareness of old bugs","title":"Chart LBI Visualisation","text":"chartlbi cut source code capacity showing Optimal Yield indicator function Lmaxy, , length class length-frequency matrix holds largest biomass per timestep. reason two bugs original source code follows: old algorithm contemplate two length-classes may hold biomass. case possible mean weight single year length class calculated average weight individuals within, rather using formula W=*LbW = *L^b.(See bug source code). Even one single length-class per maximum biomass timestep, calculation Lmaxy performed multiplying columns length-frequency weight--length desynchronised mode. mismatch every pair columns. (See bug source code)","code":""},{"path":"https://d2gex.github.io/chartlbi/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Chart LBI Visualisation","text":"R package can installed devtools follows:","code":"devtools::install_github(\"https://github.com/d2gex/chartlbi\", dep=TRUE)"},{"path":"https://d2gex.github.io/chartlbi/reference/LbiAlgo.html","id":null,"dir":"Reference","previous_headings":"","what":"LBI Algorithm Class — LbiAlgo","title":"LBI Algorithm Class — LbiAlgo","text":"class wrapping calling LBI algorithm","code":""},{"path":"https://d2gex.github.io/chartlbi/reference/LbiAlgo.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"LBI Algorithm Class — LbiAlgo","text":"dataframe calculated indicators. modified dataframe holding calculated indicators.","code":""},{"path":[]},{"path":"https://d2gex.github.io/chartlbi/reference/LbiAlgo.html","id":"public-methods","dir":"Reference","previous_headings":"","what":"Public methods","title":"LBI Algorithm Class — LbiAlgo","text":"LbiAlgo$new() LbiAlgo$lbi() LbiAlgo$run() LbiAlgo$clone()","code":""},{"path":"https://d2gex.github.io/chartlbi/reference/LbiAlgo.html","id":"method-new-","dir":"Reference","previous_headings":"","what":"Method new()","title":"LBI Algorithm Class — LbiAlgo","text":"Initialise LBI class","code":""},{"path":"https://d2gex.github.io/chartlbi/reference/LbiAlgo.html","id":"usage","dir":"Reference","previous_headings":"","what":"Usage","title":"LBI Algorithm Class — LbiAlgo","text":"","code":"LbiAlgo$new(data, params)"},{"path":"https://d2gex.github.io/chartlbi/reference/LbiAlgo.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"LBI Algorithm Class — LbiAlgo","text":"data length-frequency dataframe params R6 object named List biological parameters binwidth","code":""},{"path":"https://d2gex.github.io/chartlbi/reference/LbiAlgo.html","id":"method-lbi-","dir":"Reference","previous_headings":"","what":"Method lbi()","title":"LBI Algorithm Class — LbiAlgo","text":"Wrap call actual LBI algorithm function","code":""},{"path":"https://d2gex.github.io/chartlbi/reference/LbiAlgo.html","id":"usage-1","dir":"Reference","previous_headings":"","what":"Usage","title":"LBI Algorithm Class — LbiAlgo","text":"","code":"LbiAlgo$lbi()"},{"path":"https://d2gex.github.io/chartlbi/reference/LbiAlgo.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"LBI Algorithm Class — LbiAlgo","text":"method can called isolation get exact dataframe original LBI function returns. However, method modified weight--length matrix never used therefore Lmaxy Lmaxy/Lopt ratio longer available.","code":""},{"path":"https://d2gex.github.io/chartlbi/reference/LbiAlgo.html","id":"method-run-","dir":"Reference","previous_headings":"","what":"Method run()","title":"LBI Algorithm Class — LbiAlgo","text":"Run LBI algorithm.","code":""},{"path":"https://d2gex.github.io/chartlbi/reference/LbiAlgo.html","id":"usage-2","dir":"Reference","previous_headings":"","what":"Usage","title":"LBI Algorithm Class — LbiAlgo","text":"","code":"LbiAlgo$run()"},{"path":"https://d2gex.github.io/chartlbi/reference/LbiAlgo.html","id":"method-clone-","dir":"Reference","previous_headings":"","what":"Method clone()","title":"LBI Algorithm Class — LbiAlgo","text":"objects class cloneable method.","code":""},{"path":"https://d2gex.github.io/chartlbi/reference/LbiAlgo.html","id":"usage-3","dir":"Reference","previous_headings":"","what":"Usage","title":"LBI Algorithm Class — LbiAlgo","text":"","code":"LbiAlgo$clone(deep = FALSE)"},{"path":"https://d2gex.github.io/chartlbi/reference/LbiAlgo.html","id":"arguments-1","dir":"Reference","previous_headings":"","what":"Arguments","title":"LBI Algorithm Class — LbiAlgo","text":"deep Whether make deep clone.","code":""},{"path":"https://d2gex.github.io/chartlbi/reference/OutputPlotter.html","id":null,"dir":"Reference","previous_headings":"","what":"Class plotting LBI results — OutputPlotter","title":"Class plotting LBI results — OutputPlotter","text":"Results plotted tower plots, one top another","code":""},{"path":"https://d2gex.github.io/chartlbi/reference/OutputPlotter.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Class plotting LBI results — OutputPlotter","text":"ggplot class ggplot class list built plots tower plots aligned","code":""},{"path":[]},{"path":"https://d2gex.github.io/chartlbi/reference/OutputPlotter.html","id":"public-methods","dir":"Reference","previous_headings":"","what":"Public methods","title":"Class plotting LBI results — OutputPlotter","text":"OutputPlotter$new() OutputPlotter$build_plots() OutputPlotter$clone()","code":""},{"path":"https://d2gex.github.io/chartlbi/reference/OutputPlotter.html","id":"method-new-","dir":"Reference","previous_headings":"","what":"Method new()","title":"Class plotting LBI results — OutputPlotter","text":"Initialise OutputPlotter class","code":""},{"path":"https://d2gex.github.io/chartlbi/reference/OutputPlotter.html","id":"usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Class plotting LBI results — OutputPlotter","text":"","code":"OutputPlotter$new(data, plot_context, thresholds)"},{"path":"https://d2gex.github.io/chartlbi/reference/OutputPlotter.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Class plotting LBI results — OutputPlotter","text":"data dataframe LBI indicators plot_context R6 object named List parameteres allow customising certain aspects plot thresholds name list thresholds LBI indicators copmared","code":""},{"path":"https://d2gex.github.io/chartlbi/reference/OutputPlotter.html","id":"method-build-plots-","dir":"Reference","previous_headings":"","what":"Method build_plots()","title":"Class plotting LBI results — OutputPlotter","text":"Build tower plots","code":""},{"path":"https://d2gex.github.io/chartlbi/reference/OutputPlotter.html","id":"usage-1","dir":"Reference","previous_headings":"","what":"Usage","title":"Class plotting LBI results — OutputPlotter","text":"","code":"OutputPlotter$build_plots(colum_order)"},{"path":"https://d2gex.github.io/chartlbi/reference/OutputPlotter.html","id":"arguments-1","dir":"Reference","previous_headings":"","what":"Arguments","title":"Class plotting LBI results — OutputPlotter","text":"colum_order ordered list LBI indicators appear ","code":""},{"path":"https://d2gex.github.io/chartlbi/reference/OutputPlotter.html","id":"method-clone-","dir":"Reference","previous_headings":"","what":"Method clone()","title":"Class plotting LBI results — OutputPlotter","text":"objects class cloneable method.","code":""},{"path":"https://d2gex.github.io/chartlbi/reference/OutputPlotter.html","id":"usage-2","dir":"Reference","previous_headings":"","what":"Usage","title":"Class plotting LBI results — OutputPlotter","text":"","code":"OutputPlotter$clone(deep = FALSE)"},{"path":"https://d2gex.github.io/chartlbi/reference/OutputPlotter.html","id":"arguments-2","dir":"Reference","previous_headings":"","what":"Arguments","title":"Class plotting LBI results — OutputPlotter","text":"deep Whether make deep clone.","code":""},{"path":"https://d2gex.github.io/chartlbi/reference/PlotContext.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot's context details class — PlotContext","title":"Plot's context details class — PlotContext","text":"class holds aspects shape final plot visualising results LBI algorithm.","code":""},{"path":[]},{"path":"https://d2gex.github.io/chartlbi/reference/PlotContext.html","id":"public-methods","dir":"Reference","previous_headings":"","what":"Public methods","title":"Plot's context details class — PlotContext","text":"PlotContext$new() PlotContext$clone()","code":""},{"path":"https://d2gex.github.io/chartlbi/reference/PlotContext.html","id":"method-new-","dir":"Reference","previous_headings":"","what":"Method new()","title":"Plot's context details class — PlotContext","text":"Initialise PlotContext class. Default values input parameters enough graph results first time.","code":""},{"path":"https://d2gex.github.io/chartlbi/reference/PlotContext.html","id":"usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot's context details class — PlotContext","text":"","code":"PlotContext$new(   main_title_size = 15,   main_title = \"LBI Scores\",   threshold_line_width = 1.2,   x_title_size = 18,   x_text_size = 12,   x_text_angle = 90,   y_title_size = 18,   y_text_size = 12,   y_text_angle = 0 )"},{"path":"https://d2gex.github.io/chartlbi/reference/PlotContext.html","id":"method-clone-","dir":"Reference","previous_headings":"","what":"Method clone()","title":"Plot's context details class — PlotContext","text":"objects class cloneable method.","code":""},{"path":"https://d2gex.github.io/chartlbi/reference/PlotContext.html","id":"usage-1","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot's context details class — PlotContext","text":"","code":"PlotContext$clone(deep = FALSE)"},{"path":"https://d2gex.github.io/chartlbi/reference/PlotContext.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot's context details class — PlotContext","text":"deep Whether make deep clone.","code":""},{"path":"https://d2gex.github.io/chartlbi/reference/Thresholds.html","id":null,"dir":"Reference","previous_headings":"","what":"Thresholds list — Thresholds","title":"Thresholds list — Thresholds","text":"list holds thresholds LBI indicators measured .","code":""},{"path":"https://d2gex.github.io/chartlbi/reference/Thresholds.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Thresholds list — Thresholds","text":"","code":"Thresholds"},{"path":"https://d2gex.github.io/chartlbi/reference/Thresholds.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Thresholds list — Thresholds","text":"object class list length 6.","code":""},{"path":"https://d2gex.github.io/chartlbi/reference/lb_ind_ices.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate the wanted LBI indicators — lb_ind_ices","title":"Calculate the wanted LBI indicators — lb_ind_ices","text":"Generate matrix calculated LBI indicators can compared thresholds. untouched ICES function.","code":""},{"path":"https://d2gex.github.io/chartlbi/reference/lb_ind_ices.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate the wanted LBI indicators — lb_ind_ices","text":"","code":"lb_ind_ices(data, binwidth, linf, lmat, weight)"},{"path":"https://d2gex.github.io/chartlbi/reference/lb_ind_ices.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Calculate the wanted LBI indicators — lb_ind_ices","text":"https://raw.githubusercontent.com/ices-tools-dev/LBI_shiny/master/utilities.R","code":""},{"path":"https://d2gex.github.io/chartlbi/reference/lb_ind_ices.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate the wanted LBI indicators — lb_ind_ices","text":"data length-frequency matrix. binwidth number indicating width bin. linf number indicating asymptotic length. lmat number indicating first sexual maturity. weight weight--length matrix.","code":""},{"path":"https://d2gex.github.io/chartlbi/reference/lb_ind_ices.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculate the wanted LBI indicators — lb_ind_ices","text":"dataframe calculated indicators.","code":""},{"path":"https://d2gex.github.io/chartlbi/reference/lb_ind_pretty.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate the wanted LBI indicators — lb_ind_pretty","title":"Calculate the wanted LBI indicators — lb_ind_pretty","text":"Generate matrix calculated LBI indicators can compared thresholds. modified version 'lb_ind_ices' allow use weight--length matrix needed calculate 'Optimal Yield' maximum length holds largest biomass. reason two bugs follows: ) multiplication frequency weight--length matrices performed way year columns picked multiplied two matrices - columns shifted - b) multiple length classes may biomass yielding returned dimension error. Given bugs fact affected indicator - Lmaxy/Lopt- ued traffic-light visualisation form -lb_table-, indicator longer calculated version function.","code":""},{"path":"https://d2gex.github.io/chartlbi/reference/lb_ind_pretty.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate the wanted LBI indicators — lb_ind_pretty","text":"","code":"lb_ind_pretty(data, binwidth, linf, lmat)"},{"path":"https://d2gex.github.io/chartlbi/reference/lb_ind_pretty.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate the wanted LBI indicators — lb_ind_pretty","text":"data length-frequency matrix. binwidth number indicating width bin. linf number indicating asymptotic length. lmat number indicating first sexual maturity.","code":""},{"path":"https://d2gex.github.io/chartlbi/reference/lb_ind_pretty.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculate the wanted LBI indicators — lb_ind_pretty","text":"dataframe calculated indicators","code":""}]
